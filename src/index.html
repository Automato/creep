<!DOCTYPE html>
<html
    lang="en"
    ><head
        ><meta
            charset="utf-8"
        ><title
            >Corrugate</title
        ><script
            src="https://fb.me/react-0.13.1.js"
            ></script
        ><script
            src="https://fb.me/JSXTransformer-0.13.1.js"
            ></script
        ><script
            src="https://code.jquery.com/jquery-1.10.0.min.js"
            ></script
        ></head
    ><body
        ><div
            id="content"
            ></div
        ><script
            type="text/jsx"
            >
var Card = React.createClass({
    render: function() {
        return (
            <li>{this.props.card.content}</li>
        );
    }
});
var CardCategory = React.createClass({
    render: function() {
        return (
            <li>
                <h2>{this.props.category.name}</h2>
                <ul>{
                    this.props.category.cards.map(
                        function(card) {
                            return <Card key={card.id} card={card} />
                        }
                    )
                }
                <li><a>+</a></li>
                </ul>
            </li>
        );
    }
});

var CardBoard = React.createClass({
    render: function() {
        return (
            <ul>{
                this.props.state.categories.map(
                    function(category) {
                        return <CardCategory key={category.id} category={category} />
                    }
                )
            }
            <li><a>+</a></li>
            </ul>
        );
    }
});

var STATE = {
    categories: [
        {
            id: 1,
            name: 'Doing',
            cards: [
                {id: 0, category: 1, content: 'Serve static app'},
            ]
        },
        {
            id: 0,
            name: 'Todo',
            cards: [
                {id: 2, category: 0, content: 'Store data'},
                {id: 3, category: 0, content: 'Have a login'},
                {id: 1, category: 0, content: 'Get data sync with server'},
            ]
        }
    ]
};

React.render(
    <CardBoard state={STATE} />,
    document.getElementById('content')
);
</script
        ></body
    ></html
>
