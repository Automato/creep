<!DOCTYPE html>
<html
    lang="en"
    ><head
        ><meta
            charset="utf-8"
        ><title
            >Corrugate</title
        ><script
            src="https://fb.me/react-0.13.1.js"
            ></script
        ><script
            src="https://fb.me/JSXTransformer-0.13.1.js"
            ></script
        ><script
            src="https://code.jquery.com/jquery-1.10.0.min.js"
            ></script
        ></head
    ><body
        ><div
            id="content"
            ></div
        ><script
            type="text/jsx"
            >
var Card = React.createClass({
    render: function() {
        return (
            <div>Card{this.props.card.content}</div>
        );
    }
});
var CardCategory = React.createClass({
    render: function() {
        var cards = [];
        for (card in this.props.cards) {
            if (card.category == this.props.category.id) {
                cards.push(<Card card={card} key={card.id} />);
            }
        }
        return (
            <div>Category{this.props.category.name}{cards}</div>
        );
    }
});

var CardBoard = React.createClass({
    render: function() {
        var categories = [];
        for (category in this.props.state.categories) {
            categories.push(<CardCategory category={category} cards={this.props.state.cards} key={category.id} />);
        }
        return (
            <div>CardBoard{categories}</div>
        );
    }
});

var STATE = {
    categories: [
        {id: 1, name: 'Doing'},
        {id: 0, name: 'Todo'}
    ],
    cards: [
        {id: 0, category: 1, content: 'Serve static app'},
        {id: 1, category: 0, content: 'Get data sync with server'},
        {id: 2, category: 0, content: 'Store data'},
        {id: 3, category: 0, content: 'Have a login'}
    ]
};

React.render(
    <CardBoard state={STATE} />,
    document.body
);
</script
        ></body
    ></html
>
